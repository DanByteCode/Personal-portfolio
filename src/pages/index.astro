---
import Layout from '@/layouts/Layout.astro'
import Presentation from '@/components/Presentation.astro'
import Projects from '@/components/Projects.astro'
import Header from '@/components/Header.astro'
import Footer from '@/components/Footer.astro'
import Contact from '@/components/Contact.astro'
import Stack from '@/components/Stack.astro'
---

<Layout title="Danny Fernandez">
  <Header />
  <Presentation />
  <Projects />
  <Stack />
  <Contact />
  <Footer />
</Layout>

<style is:global></style>
<script>
  import { animate } from 'motion'
  const list = document.getElementsByClassName('copy-info')
  Array.from(list).forEach((ele) => {
    const element = ele as HTMLElement
    element.addEventListener('click', () => {
      const toCopy = element.dataset.info ?? ''
      const check = element.getElementsByClassName('check')[0]
      console.log(toCopy)
      animate(check, { pathLength: [0, 1] }, { duration: 0.4, ease: 'circIn' })
      const type = 'text/plain'
      const blob = new Blob([toCopy], { type })
      const data = [new ClipboardItem({ [type]: blob })]
      navigator.clipboard.write(data)
    })
  })
</script>
